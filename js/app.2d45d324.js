(function(e){function t(t){for(var i,o,c=t[0],a=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],n[o]&&f.push(n[o][0]),n[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,c=1;c<r.length;c++){var a=r[c];0!==n[a]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=a;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("1d50")},"167c":function(e,t,r){"use strict";var i=r("9ca2"),n=r.n(i);n.a},"1d50":function(e,t,r){"use strict";r.r(t);r("c206"),r("4fc4"),r("d791");var i=r("e832"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header",{attrs:{msg:"Video library"}}),r("Genres"),r("RatingSlider"),r("VideosList")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v(e._s(e.msg))])},c=[],a={name:"Header",props:{msg:String}},l=a,u=(r("796b"),r("a6c2")),d=Object(u["a"])(l,o,c,!1,null,"0a3d0b6f",null),f=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"rating-slider"}},[r("h3",[e._v("Rating ( "+e._s(e.filter.rating)+" )")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.rating,expression:"filter.rating"}],attrs:{type:"range",min:"0",max:"10",step:"0.5"},domProps:{value:e.filter.rating},on:{input:e.filterVidoes,__r:function(t){e.$set(e.filter,"rating",t.target.value)}}})])},h=[],v=(r("e453"),r("381f"),r("5c3c")),_=r.n(v),g={filter:function(e,t){var r=function(e){return function(t,r){return t[e]>r[e]?1:r[e]>t[e]?-1:0}},i=t.filter(function(t){return t.vote_average>=e.rating}).concat().sort(r("vote_average")).reverse();return e.selectedGenres.length&&(i=i.filter(function(t){return _()(t.genre_ids,e.selectedGenres).length})),i}},m=g,E={name:"RatingSlider",computed:{filter:function(){return this.$store.state.filter},filteredVideos:{get:function(){return this.$store.state.filteredVideos},set:function(e){this.$store.dispatch("SET_FILTERED_VIDEOS",e)}},origVideos:{get:function(){return this.$store.state.origVideos}}},methods:{filterVidoes:function(){this.filteredVideos=m.filter(this.filter,this.origVideos)}}},V=E,b=(r("3cd6"),Object(u["a"])(V,p,h,!1,null,"465a95da",null)),S=b.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"genres-wrap"}},[r("h3",[e._v("Filters ( "+e._s(e.filter.selectedGenres.length)+" applied ) ")]),r("div",{attrs:{id:"genres-list"}},e._l(e.genres,function(t){return r("div",{key:t.id,staticClass:"genres-list__item"},[r("label",{attrs:{for:t.id}},[e._v(e._s(t.name)+"\n            "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.selectedGenres,expression:"filter.selectedGenres"}],attrs:{type:"checkbox",id:t.id,name:t.name},domProps:{value:t.id,checked:Array.isArray(e.filter.selectedGenres)?e._i(e.filter.selectedGenres,t.id)>-1:e.filter.selectedGenres},on:{change:[function(r){var i=e.filter.selectedGenres,n=r.target,s=!!n.checked;if(Array.isArray(i)){var o=t.id,c=e._i(i,o);n.checked?c<0&&e.$set(e.filter,"selectedGenres",i.concat([o])):c>-1&&e.$set(e.filter,"selectedGenres",i.slice(0,c).concat(i.slice(c+1)))}else e.$set(e.filter,"selectedGenres",s)},e.filterVidoes]}}),r("span")])])}))])},y=[],D=(r("c1c3"),r("b03f")),O=(r("de94"),r("4278"),{fetchData:function(){var e="https://thingproxy.herokuapp.com/fetch/https://api.themoviedb.org/3/movie/now_playing?api_key=23206ae005c42724b84f5a45c297b757",t="https://thingproxy.herokuapp.com/fetch/https://api.themoviedb.org/3/genre/movie/list?api_key=23206ae005c42724b84f5a45c297b757";return Promise.all([fetch(e).then(function(e){return e.json()}),fetch(t).then(function(e){return e.json()})]).then(function(e){return e}).catch(function(e){return e})}}),$=O,w={name:"genresList",computed:{filter:function(){return this.$store.state.filter},genres:function(){return this.$store.state.genres},filteredVideos:{get:function(){return this.$store.state.filteredVideos},set:function(e){this.$store.dispatch("SET_FILTERED_VIDEOS",e)}},filteredGenres:{get:function(){return this.$store.state.filter.genres},set:function(e){this.$store.dispatch("SET_SETECTED_GENRES",e)}},origVideos:{get:function(){return this.$store.state.origVideos}}},methods:{loadGenres:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.fetchData();case 2:t=e.sent,this.$store.state.genres=t[1].genres;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),filterVidoes:function(){this.filteredVideos=m.filter(this.filter,this.origVideos)}},mounted:function(){this.loadGenres()}},x=w,G=(r("167c"),Object(u["a"])(x,T,y,!1,null,"30740935",null)),C=G.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"video-wrapper"},[e.filteredVideos.length?r("div",{attrs:{id:"videos-list"}},e._l(e.filteredVideos,function(t,i){return r("div",{key:t.id,staticClass:"video-list__item"},[r("span",{staticClass:"video-list__item-rating"},[e._v("\n          "+e._s(t.vote_average)+"/"),r("small",[e._v("10")])]),r("img",{attrs:{src:"//image.tmdb.org/t/p/w300/"+t.poster_path,alt:t.title}}),r("h2",[e._v(e._s(t.title))]),r("button",{staticClass:"button-green",on:{click:function(t){e.prepareDestroySelectedVideo(i)}}},[e._v("More info")])])})):r("div",[r("p",[e._v("No result found based on your input")])]),e.modalActive?r("div",{staticClass:"video-list__modal"},[r("div",{staticClass:"video-list__modal-content"},[r("button",{staticClass:"close-button",on:{click:function(t){e.prepareDestroySelectedVideo(null)}}}),r("h2",[e._v(e._s(e.filteredVideos[e.selectedVideo].title))]),r("img",{attrs:{src:"//image.tmdb.org/t/p/w300/"+e.filteredVideos[e.selectedVideo].backdrop_path,alt:e.filteredVideos[e.selectedVideo].title}}),r("p",[e._v(e._s(e.filteredVideos[e.selectedVideo].overview))])])]):e._e()])},R=[],k={name:"VideosList",computed:{filter:function(){return this.$store.state.filter},origVideos:{get:function(){return this.$store.state.origVideos}},filteredVideos:{get:function(){return this.$store.state.filteredVideos},set:function(e){this.$store.dispatch("SET_FILTERED_VIDEOS",e)}},selectedVideo:{get:function(){return this.$store.state.selectedVideo},set:function(e){this.$store.dispatch("SET_SELECTED_VIDEO",e)}},modalActive:{get:function(){return this.$store.state.modalActive},set:function(e){this.$store.dispatch("SET_MODAL_ACTIVE",e)}}},methods:{loadVideos:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.fetchData();case 2:t=e.sent,this.$store.state.origVideos=t[0].results;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),prepareDestroySelectedVideo:function(e){e||0===e?(this.selectedVideo=e,this.modalActive=!0):(this.selectedVideo=null,this.modalActive=!1)}},mounted:function(){var e=Object(D["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadVideos();case 2:this.filteredVideos=m.filter(this.filter,this.origVideos);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},A=k,j=(r("208c"),Object(u["a"])(A,I,R,!1,null,"5d40e342",null)),L=j.exports,M={name:"app",components:{Header:f,RatingSlider:S,VideosList:L,Genres:C}},P=M,F=(r("e5cd"),Object(u["a"])(P,n,s,!1,null,null,null)),N=F.exports,H=r("94ea");i["a"].use(H["a"]);var J=new H["a"].Store({state:{genres:[],origVideos:[],filteredVideos:[],filter:{rating:3,selectedGenres:[]},modalActive:!1,selectedVideo:null},mutations:{SET_SETECTED_GENRES:function(e,t){e.filter.selectedGenres=t},SET_FILTERED_VIDEOS:function(e,t){e.filteredVideos=t},SET_MODAL_ACTIVE:function(e,t){e.modalActive=t},SET_SELECTED_VIDEO:function(e,t){e.selectedVideo=t}},actions:{SET_FILTERED_VIDEOS:function(e,t){e.commit("SET_FILTERED_VIDEOS",t)},SET_SETECTED_GENRES:function(e,t){e.commit("SET_SETECTED_GENRES",t)},SET_MODAL_ACTIVE:function(e,t){e.commit("SET_MODAL_ACTIVE",t)},SET_SELECTED_VIDEO:function(e,t){e.commit("SET_SELECTED_VIDEO",t)}}});i["a"].config.productionTip=!1,new i["a"]({store:J,render:function(e){return e(N)}}).$mount("#app")},"208c":function(e,t,r){"use strict";var i=r("23d9"),n=r.n(i);n.a},"23d9":function(e,t,r){},"3cd6":function(e,t,r){"use strict";var i=r("b227"),n=r.n(i);n.a},"51ce":function(e,t,r){},"54cb":function(e,t,r){},"796b":function(e,t,r){"use strict";var i=r("51ce"),n=r.n(i);n.a},"9ca2":function(e,t,r){},b227:function(e,t,r){},e5cd:function(e,t,r){"use strict";var i=r("54cb"),n=r.n(i);n.a}});
//# sourceMappingURL=app.2d45d324.js.map